@if (template) { 
  @for (item of dataSource; track $index) {
    <ng-container
      [ngClass]="itemClass"
      [ngTemplateOutlet]="template"
      [ngTemplateOutletContext]="{ item: item }"
    />
  } 
}

@else {
  @for (item of dataSource; track $index) {
    <div>{{ item }}</div>
  } 
}